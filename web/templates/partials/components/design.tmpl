{{ define "c_selection_grid" }}
<div id="design-selection-grid"
     class="grid grid-cols-1 gap-4 md:grid-cols-3"
     role="radiogroup"
     aria-label="{{ .AriaLabel }}"
     data-default-mode="{{ .DefaultMode }}">
  {{ range .Options }}
  <button type="button"
          class="group relative flex h-full flex-col gap-3 rounded-xl border border-gray-200 bg-white p-5 text-left shadow-sm transition hover:border-indigo-400 hover:shadow-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 data-[selected=true]:border-indigo-500 data-[selected=true]:shadow-inner data-[recommended=true]:border-amber-400 data-[recommended=true]:shadow-[0_0_0_2px_rgba(251,191,36,0.35)]"
          role="radio"
          aria-checked="false"
          tabindex="-1"
          data-design-option="{{ .ID }}"
          data-mode-label="{{ .Title }}"
          data-tags="{{ .TagsCSV }}"
          data-selected="false"
          data-recommended="false"
          data-analytics-click="{{ $.AnalyticsEvent }}"
          data-analytics-prop-mode="{{ .ID }}">
    <div class="flex items-start justify-between gap-3">
      <div class="flex items-center gap-3">
        {{ template "icon" (dict "Name" .Icon "Class" "h-6 w-6 text-indigo-500") }}
        <span class="text-base font-semibold text-gray-900">{{ .Title }}</span>
      </div>
      {{ if .Badge }}
      <span class="rounded-full bg-indigo-50 px-3 py-1 text-xs font-medium text-indigo-600">{{ .Badge }}</span>
      {{ end }}
    </div>
    <p class="text-sm text-gray-600">{{ .Description }}</p>
    <span class="inline-flex items-center gap-1 text-xs font-medium uppercase tracking-wide text-amber-600 opacity-0 transition group-data-[recommended=true]:opacity-100">
      {{ template "icon" (dict "Name" "sparkles" "Class" "h-4 w-4" ) }}
      {{ $.RecommendedLabel }}
    </span>
  </button>
  {{ end }}
</div>
{{ end }}

{{ define "c_filter_chips" }}
<div class="space-y-2">
  {{ if .Eyebrow }}<p class="text-xs font-medium uppercase tracking-wide text-indigo-500">{{ .Eyebrow }}</p>{{ end }}
  <div class="flex flex-wrap gap-2" role="listbox" aria-label="{{ .AriaLabel }}">
    {{ range .Filters }}
    <button type="button"
            class="rounded-full border border-gray-200 px-3 py-1 text-sm font-medium text-gray-700 transition hover:border-indigo-400 hover:text-indigo-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 data-[active=true]:border-indigo-500 data-[active=true]:bg-indigo-50 data-[active=true]:text-indigo-600"
            data-design-filter="{{ .ID }}"
            data-active="{{ if .Active }}true{{ else }}false{{ end }}"
            role="option"
            aria-selected="{{ if .Active }}true{{ else }}false{{ end }}">
      {{ .Label }}
    </button>
    {{ end }}
  </div>
</div>
{{ end }}

{{ define "c_feature_list" }}
<section class="rounded-2xl border border-gray-200 bg-white p-6 shadow-sm">
  {{ if .Title }}<h2 class="text-lg font-semibold text-gray-900">{{ .Title }}</h2>{{ end }}
  {{ if .Subtitle }}<p class="mt-2 text-sm text-gray-600">{{ .Subtitle }}</p>{{ end }}
  <ul class="mt-5 space-y-4">
    {{ range .Items }}
    <li class="flex items-start gap-3">
      <div class="mt-0.5 flex h-9 w-9 items-center justify-center rounded-full bg-indigo-50 text-indigo-600">
        {{ template "icon" (dict "Name" .Icon "Class" "h-5 w-5") }}
      </div>
      <div>
        <p class="text-sm font-semibold text-gray-900">{{ .Title }}</p>
        <p class="mt-1 text-sm text-gray-600">{{ .Description }}</p>
      </div>
    </li>
    {{ end }}
  </ul>
</section>
{{ end }}

{{ define "c_sticky_action_bar" }}
<div class="fixed inset-x-0 bottom-0 z-40 border-t border-gray-200 bg-white/90 backdrop-blur">
  <div class="mx-auto flex max-w-6xl flex-col gap-3 px-4 py-4 md:flex-row md:items-center md:justify-between">
    <p id="design-selection-summary"
       class="text-sm text-gray-700"
       data-summary-empty="{{ .SummaryEmpty }}"
       data-summary-selected="{{ .SummarySelected }}">
      {{ .SummaryEmpty }}
    </p>
    <div class="flex items-center gap-3">
      <button type="button"
              id="design-primary-cta"
              class="inline-flex items-center justify-center rounded-lg bg-indigo-600 px-5 py-3 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 disabled:cursor-not-allowed disabled:opacity-60"
              data-base="{{ .Primary.Base }}"
              disabled
              aria-disabled="true">
        {{ .Primary.Label }}
      </button>
      <a href="{{ .Secondary.Href }}"
         class="text-sm font-medium text-gray-600 underline-offset-4 transition hover:text-gray-900 hover:underline">
        {{ .Secondary.Label }}
      </a>
    </div>
  </div>
</div>
{{ end }}

{{ define "c_inline_help" }}
<aside class="rounded-2xl border border-indigo-100 bg-indigo-50/80 p-5 text-sm text-indigo-900">
  <div class="flex items-start gap-3">
    {{ template "icon" (dict "Name" "information-circle" "Class" "h-5 w-5" ) }}
    <div>
      {{ if .Title }}<p class="font-semibold">{{ .Title }}</p>{{ end }}
      {{ if .Description }}<p class="mt-1 text-sm leading-5 text-indigo-900/90">{{ .Description }}</p>{{ end }}
      {{ if .Href }}
      <a href="{{ .Href }}" class="mt-3 inline-flex items-center gap-2 text-sm font-semibold text-indigo-700 underline-offset-4 transition hover:text-indigo-900 hover:underline">
        {{ .Label }}
        <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <path d="M5 12h14" />
          <path d="M13 6l6 6-6 6" />
        </svg>
      </a>
      {{ end }}
    </div>
  </div>
</aside>
{{ end }}
