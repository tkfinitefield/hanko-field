{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "materials.schema.json",
  "title": "Material",
  "description": "印鑑素材のマスタ。硬度や仕上げ、写真、取扱い注意などを保持する。",
  "type": "object",
  "additionalProperties": false,
  "required": ["name", "type", "isActive", "createdAt"],
  "properties": {
    "name": {
      "type": "string",
      "description": "素材名（例: Black Water Buffalo, 柘植, Titanium）。"
    },
    "type": {
      "type": "string",
      "enum": ["horn", "wood", "titanium", "acrylic"],
      "description": "素材の種類。"
    },
    "finish": {
      "type": "string",
      "enum": ["matte", "gloss", "hairline"],
      "description": "表面仕上げ。"
    },
    "color": {
      "type": "string",
      "description": "表示用カラー（CSSカラーや#RRGGBB）。"
    },
    "hardness": {
      "type": "number",
      "description": "硬度の相対指標（任意）。"
    },
    "density": {
      "type": "number",
      "description": "密度（g/cm³ など、任意）。"
    },
    "careNotes": {
      "type": "string",
      "description": "取り扱い上の注意・手入れ方法。"
    },
    "sustainability": {
      "type": "object",
      "description": "サステナビリティ情報（任意）。",
      "additionalProperties": false,
      "properties": {
        "certifications": {
          "type": "array",
          "items": { "type": "string" },
          "description": "認証や由来情報（任意）。"
        },
        "notes": { "type": "string", "description": "補足メモ（任意）。" }
      }
    },
    "photos": {
      "type": "array",
      "description": "画像URL（署名URL可）。",
      "items": { "type": "string", "format": "uri" }
    },
    "supplier": {
      "type": "object",
      "description": "調達先メタデータ。",
      "additionalProperties": false,
      "properties": {
        "reference": { "type": "string", "description": "仕入先リファレンス/コード。" },
        "name": { "type": "string", "description": "仕入先名。" },
        "contactEmail": { "type": "string", "format": "email", "description": "担当者メールアドレス。" },
        "contactPhone": { "type": "string", "description": "担当者電話番号。" },
        "leadTimeDays": { "type": "integer", "minimum": 0, "description": "発注からのリードタイム（日）。" },
        "minimumOrderQuantity": { "type": "integer", "minimum": 0, "description": "最小発注数量。" },
        "unitCostCents": { "type": "integer", "minimum": 0, "description": "仕入単価（最小通貨単位）。" },
        "currency": { "type": "string", "pattern": "^[A-Z]{3}$", "description": "仕入通貨（ISO 4217）。" },
        "notes": { "type": "string", "description": "備考。" }
      }
    },
    "inventory": {
      "type": "object",
      "description": "在庫関連メタデータ。",
      "additionalProperties": false,
      "properties": {
        "sku": { "type": "string", "description": "原材料SKU。" },
        "safetyStock": { "type": "integer", "minimum": 0, "description": "安全在庫。" },
        "reorderPoint": { "type": "integer", "minimum": 0, "description": "発注点。" },
        "reorderQuantity": { "type": "integer", "minimum": 0, "description": "発注ロット。" },
        "warehouse": { "type": "string", "description": "主在庫ロケーション。" }
      }
    },
    "isActive": {
      "type": "boolean",
      "description": "販売・表示対象か。false は非表示。"
    },
    "createdAt": { "type": "string", "format": "date-time" },
    "updatedAt": { "type": "string", "format": "date-time" }
  }
}
